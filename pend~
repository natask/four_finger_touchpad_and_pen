#!/usr/bin/env python3

##!/bin/bash

#dir=$(dirname "${BASH_SOURCE[0]}")

#######################

#onclick="echo Click && $dir/event/onpenclick.sh &"
#onhold="echo Hold && $dir/event/onpenhold.sh &"

#######################
#clickregex="> 02 8[01] 20 0F 00 0B 00 04 00 1B 1[D9] 00 08 00 6F 00 00 00 00 00"
#doubleclickregex="> 02 8[01] 20 0F 00 0B 00 04 00 1B 1[D9] 00 08 00 6E 00 00 00 00 00"
#holdregex="> 02 8[01] 20 0F 00 0B 00 04 00 1B 1[D9] 00 08 00 6D 00 00 00 00 00"

#coproc sudo hcidump -R att;
#while read -u ${COPROC[0]} -a arr; do
#    event=${arr[@]}
#    [[ $event =~ $clickregex ]] && pen 
#    [[ $event =~ $doubleclickregex ]] && pen
#    [[ $event =~ $holdregex ]] &&  okular

#done
#clickregex=7006f
#doubleclickregex=7006e
#holdregex=7006d

#IFS=" "
#coproc evtest /dev/input/event256
#skip=0
#while read -u ${COPROC[0]} -a arr; do
#    event=${arr[10]}
#    if [ $event = $clickregex ]; then
#        if [ $skip == 0 ]; then
#            pen & disown;
#            skip=1;
#        fi
#        if [ $skip == 1 ]; then
#            skip=0;
#        fi
#    fi
#    if [ $event == $doubleclickregex ]; then
#        if [ $skip == 0 ]; then
#            pen & disown;
#            skip=1;
#        fi
#        if [ $skip == 1 ]; then
#            skip=0;
#        fi
#    fi
#    if [ $event == $holdregex ]; then
#        if [ $skip == 0 ]; then
#            okular & disown;
#            skip=1;
#        fi
#        if [ $skip == 1 ]; then
#            skip=0;
#        fi
#    fi
#done
